<html>
<body>
<label for="dropdown">Price:</label>
<select id="dropdown">
    <option value="0"></option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
</select>
<!--BEGIN STRUCTURED DATA FOR CONFIGURABLE PRODUCT-->
<script id="json-ld"
        type="application/ld+json">
{
  "@context": "http://schema.org/",
  "@type": "Product",
  "name": "Configurable product name",
  "image": ["https://example.com/photos/photo.jpg"],
  "description": "Configurable product",
  "brand": {
    "@type": "Thing",
    "name": "Configurable product brand name"
  },
  "offers": {
    "@type": "AggregateOffer",
    "priceCurrency": "EUR",
    "price": "1",
    "lowPrice": "1",
    "highPrice": "3",
    "offerCount": "3",
    "itemCondition": "http://schema.org/NewCondition",
    "availability": "http://schema.org/InStock"
  }
}
</script>
<!--END STRUCTURED DATA FOR CONFIGURABLE PRODUCT-->
<pre id="structured-data">
{
  "@context": "http://schema.org/",
  "@type": "Product",
  "name": "Configurable product name",
  "image": ["https://example.com/photos/photo.jpg"],
  "description": "Configurable product",
  "brand": {
    "@type": "Thing",
    "name": "Configurable product brand name"
  },
  "offers": {
    "@type": "AggregateOffer",
    "priceCurrency": "EUR",
    "price": "1",
    "lowPrice": "1",
    "highPrice": "3",
    "offerCount": "3",
    "itemCondition": "http://schema.org/NewCondition",
    "availability": "http://schema.org/InStock"
  }
}
</pre>
<!--BEGIN SCRIPT FOR CHANGING STRUCTURED DATA-->
<script>
  var dropdown = document.getElementById('dropdown');
  var urlParams = new URLSearchParams(window.location.search);
  window.addEventListener('load', function() {
    dropdown.value = urlParams.get('p');
    var simpleProductStructuredData = '{\n  "@context": "http://schema.org/",\n  "@type": "Product", '
        + '\n  "name": "Simple product name",\n  "image": [ "https://example.com/photos/photo.jpg" ],\n  "description": "Simple product",\n  "brand": {\n    "@type": "Thing", '
        + '\n    "name": "Simple product brand name"\n  }, '
        + '\n  "offers": {\n    "@type": "Offer",\n    "priceCurrency": "EUR",\n    "price": "'
        + urlParams.get('p')
        + '",\n    "itemCondition": "http://schema.org/NewCondition",\n    "availability": "http://schema.org/OutOfStock"\n  }\n}';
    document.getElementById('json-ld').innerHTML = simpleProductStructuredData;
    document.getElementById('structured-data').innerHTML = simpleProductStructuredData;
  });
  dropdown.addEventListener('change', function() {
    var simpleProductStructuredData = '{\n  "@context": "http://schema.org/",\n  "@type": "Product", '
        + '\n  "name": "Simple product name",\n  "image": [ "https://example.com/photos/photo.jpg" ],\n  "description": "Simple product",\n  "brand": {\n    "@type": "Thing", '
        + '\n    "name": "Simple product brand name"\n  }, '
        + '\n  "offers": {\n    "@type": "Offer",\n    "priceCurrency": "EUR",\n    "price": "'
        + dropdown.value
        + '",\n    "itemCondition": "http://schema.org/NewCondition",\n    "availability": "http://schema.org/OutOfStock"\n  }\n}';
    document.getElementById('json-ld').innerHTML = simpleProductStructuredData;
    document.getElementById('structured-data').innerHTML = simpleProductStructuredData;
  });
</script>
<!--END SCRIPT FOR CHANGING STRUCTURED DATA-->
</body>
</html>
